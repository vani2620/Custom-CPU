Load-store queue (LSQ)

| Load/Store | Address     | Data        | Commit |
| ---------- | ----------- | ----------- | ------ |
| L          | 0x0000 0000 | 0x0000 0000 |       |
| S          | 0x0100 bcad | 0x1547 ffee |  c      |
| L          | mem[src1]   | src2        |        |
|             |             |        |

Function
- keeps track of whether operation is load or store
	- Loads
		- Must calculate address then access memory to obtain data
		- Can execute immediately
		- Once obtained, data at address is stored in data field of LSQ
	- Stores
		- Data to be stored is already available
		- Calculate address
		- Send data
		- MUST WAIT FOR COMMIT
	- addresses generated by AGU


Address generation unit (AGU)
- specialized ALU for generation of addresses
- inputs should reflect addressing modes
	- Register-indirect addressing
		- Base address (`base_addr`)
			- taken from `regs[src1]`
		- Offset (`offset`)
			- Long offset -> `offset[31:12]`
				- coarse offset range control
				- encoded into `imm` field of LUI instruction
			- Short offset -> `offset[12:1]`
				- shifted left 1 bit for alignment purposes
				- encoded in `imm` field of LD/ST instructions
		- Reads address from integer registers and writes into internal `base_addr` register
		- Reads offset immediate from appropriate offset input, adds to internal `offset` register (0 by default)
		- Adds `base_addr` and `offset` registers together to produce final address and writes to internal `addr_out` register
	- Register-register addressing
		- Base address (`base_addr`)
		- Offset (`offset`)
			- Full offset -> `offset[31:1]`
				- specified by `regs[src2]`
		- Reads base address from register file, writes into internal `base_addr` register
		- Reads address offset from register file, writes into internal `offset` register
		- Adds `base_addr` and `offset` registers together to produce final address and writes to internal `addr_out` register